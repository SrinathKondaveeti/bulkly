import{a as q,b as $,c as D,d as w}from"./chunk-RZKW6CK4.js";import"./chunk-3WD7YAAK.js";import{d as Y}from"./chunk-AXQW6MGF.js";import"./chunk-6RRU44RT.js";import{$a as N,Ha as m,Jb as L,N as x,Pb as A,U as k,Xa as g,Ya as v,ab as O,bb as j,cb as u,db as c,eb as P,fb as n,gb as r,hb as a,l as T,nb as z,ob as h,ta as l,tb as F,vb as d,wb as E,xb as _,yb as H}from"./chunk-UONODV74.js";function M(e){let t=D(e),o=new Date(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()));return o.setUTCFullYear(t.getFullYear()),+e-+o}function J(e,...t){let o=$.bind(null,e||t.find(i=>typeof i=="object"));return t.map(o)}function I(e,t){let o=D(e,t?.in);return o.setHours(0,0,0,0),o}function R(e,t,o){let[i,p]=J(o?.in,e,t),f=I(i),s=I(p),b=+f-M(f),y=+s-M(s);return Math.round((b-y)/q)}function Z(e,t){if(e&1&&a(0,"div",23),e&2){let o=h();F(`width: ${o.percent()}%`)}}var C=class e{#t=x(Y);#e=x(w);product=A.required();percent=L(()=>Math.round(this.product().ordersPlaced/this.product().ordersRequired*100));noOfDaysLeft=L(()=>this.#o(this.product().orderCutOffDate));#o(t){return R(t,new Date)}navigateToProductDetails(t){this.#e.fetchProductById(T(t)),this.#t.navigate([`product-details/${t}`])}static \u0275fac=function(o){return new(o||e)};static \u0275cmp=m({type:e,selectors:[["bulkly-product"]],inputs:{product:[1,"product"]},decls:36,vars:9,consts:[[1,"flex","h-full","flex-col","overflow-hidden","rounded-3xl","border","border-slate-200","bg-white","shadow-sm","transition","hover:shadow-lg"],[1,"aspect-[4/3]","w-full","overflow-hidden","rounded-xl","group"],["src","https://images.unsplash.com/photo-1593069431672-f903a33c286f?crop=entropy&cs=tinysrgb&fit=max&fm=jpg&ixid=M3w3Nzg4Nzd8MHwxfHNlYXJjaHwxfHxzdXN0YWluYWJsZSUyMGZ1cm5pdHVyZXxlbnwxfHx8fDE3NjE1MDI4MTd8MA&ixlib=rb-4.1.0&q=80&w=1080","alt","SmartAir Pro 5000 Air Purifier",1,"h-full","w-full","object-cover","transform","transition","duration-700","ease-out","group-hover:scale-105","group-hover:brightness-110"],[1,"flex","flex-1","flex-col","p-5"],[1,"text-sm","font-semibold","text-slate-900","md:text-base","hover:text-blue-600","transition"],[1,"mt-1","text-xs","text-slate-500","md:text-sm"],[1,"mt-4","space-y-2","text-xs","text-slate-600"],[1,"flex","items-center","justify-between"],[1,"h-1.5","w-full","rounded-full","bg-slate-100"],[1,"h-1.5","rounded-full","bg-blue-900",3,"style"],[1,"flex","items-center","justify-between","text-[11px]","md:text-xs"],[1,"mt-4","text-sm","md:text-base"],[1,"font-semibold","text-sky-700"],[1,"ml-2","text-xs","text-slate-400","line-through"],[1,"mt-4","flex","items-center","gap-3"],[1,"flex-1","rounded-full","bg-slate-900","py-2.5","text-center","text-xs","font-semibold","text-white","shadow-sm","hover:bg-black","md:text-sm",3,"click"],["aria-label","Share product",1,"flex","h-9","w-9","items-center","justify-center","rounded-full","border","border-slate-300","text-slate-600","hover:bg-slate-50"],["xmlns","http://www.w3.org/2000/svg","width","24","height","24","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2","stroke-linecap","round","stroke-linejoin","round","aria-hidden","true",1,"lucide","lucide-share2","lucide-share-2","h-4","w-4","mr-2"],["cx","18","cy","5","r","3"],["cx","6","cy","12","r","3"],["cx","18","cy","19","r","3"],["x1","8.59","x2","15.42","y1","13.51","y2","17.49"],["x1","15.41","x2","8.59","y1","6.51","y2","10.49"],[1,"h-1.5","rounded-full","bg-blue-900"]],template:function(o,i){if(o&1&&(n(0,"article",0)(1,"div",1),a(2,"img",2),r(),n(3,"div",3)(4,"h3",4),d(5),r(),n(6,"p",5),d(7),r(),n(8,"div",6)(9,"div",7)(10,"span"),d(11,"Orders"),r(),n(12,"span"),d(13),r()(),n(14,"div",8),g(15,Z,1,2,"div",9),r(),n(16,"div",10)(17,"span"),d(18),r(),n(19,"span"),d(20),r()()(),n(21,"div",11)(22,"span",12),d(23),r(),n(24,"span",13),d(25),r()(),n(26,"div",14)(27,"button",15),z("click",function(){return i.navigateToProductDetails(i.product().productId)}),d(28," View Details "),r(),n(29,"button",16),k(),n(30,"svg",17),a(31,"circle",18)(32,"circle",19)(33,"circle",20)(34,"line",21)(35,"line",22),r()()()()()),o&2){let p,f,s,b,y;l(5),_("",(p=i.product())==null?null:p.name," "),l(2),E((f=i.product())==null?null:f.description),l(6),H("",(s=i.product())==null?null:s.ordersPlaced,"/",(s=i.product())==null?null:s.ordersRequired),l(2),v(i.percent()?15:-1),l(3),_("-",i.noOfDaysLeft()," days left"),l(2),_("",i.percent(),"% funded"),l(3),E((b=i.product())==null?null:b.offerPrice),l(2),E((y=i.product())==null?null:y.actualPrice)}},encapsulation:2,changeDetection:0})};var S=class e{static \u0275fac=function(o){return new(o||e)};static \u0275cmp=m({type:e,selectors:[["bulkly-product-card-loader"]],decls:8,vars:0,consts:[[1,"animate-pulse","rounded-3xl","border","border-slate-200","bg-white","shadow-sm","overflow-hidden","max-w-sm","mx-auto"],[1,"h-64","w-full","bg-slate-200"],[1,"p-5","md:p-6","space-y-4"],[1,"h-5","w-3/4","bg-slate-200","rounded"],[1,"h-4","w-1/2","bg-slate-200","rounded"],[1,"h-4","w-full","bg-slate-200","rounded"],[1,"mt-4"],[1,"h-12","w-full","bg-slate-200","rounded-2xl"]],template:function(o,i){o&1&&(n(0,"div",0),a(1,"div",1),n(2,"div",2),a(3,"div",3)(4,"div",4)(5,"div",5),n(6,"div",6),a(7,"div",7),r()()())},encapsulation:2,changeDetection:0})};var B=(e,t)=>t.productId;function G(e,t){e&1&&(u(0,"div",5),P(1,"bulkly-product-card-loader")(2,"bulkly-product-card-loader"),c())}function W(e,t){if(e&1&&P(0,"bulkly-product",6),e&2){let o=t.$implicit;j("product",o)}}function K(e,t){if(e&1&&N(0,W,1,1,"bulkly-product",6,B),e&2){let o=h(2);O(o.productsList())}}function Q(e,t){e&1&&(u(0,"p"),d(1,"No Products available..."),c())}function tt(e,t){if(e&1&&(u(0,"div",5),g(1,K,2,0)(2,Q,2,0,"p"),c()),e&2){let o,i=h();l(),v(((o=i.productsList())==null?null:o.length)>0?1:2)}}var X=class e{#t=x(w);productsList=this.#t.liveProductsListC;productsListError=this.#t.productsListErrorC;productsListApiLoading=this.#t.productsListApiLoading;static \u0275fac=function(o){return new(o||e)};static \u0275cmp=m({type:e,selectors:[["bulkly-live-products"]],decls:9,vars:1,consts:[[1,"bg-white","py-12"],[1,"mx-auto","max-w-6xl","px-4"],[1,"flex","flex-col","gap-2"],[1,"text-xl","font-semibold","text-slate-900","md:text-2xl"],[1,"text-sm","text-slate-600","md:text-base"],[1,"mt-8","grid","gap-8","sm:grid-cols-2","lg:grid-cols-3"],[3,"product"]],template:function(o,i){o&1&&(u(0,"section",0)(1,"div",1)(2,"div",2)(3,"h2",3),d(4," Live Products "),c(),u(5,"p",4),d(6," These products are actively collecting orders. Join others to unlock better prices! "),c()(),g(7,G,3,0,"div",5)(8,tt,3,1,"div",5),c()()),o&2&&(l(7),v(i.productsListApiLoading()?7:8))},dependencies:[C,S],encapsulation:2,changeDetection:0})};export{X as LiveProducts};
